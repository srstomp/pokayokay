# Project Harness Configuration
# Copy to .claude/config.yaml and customize

# Operating mode
# - supervised: Human reviews after every task (default, safest)
# - semi-auto: Human reviews at story/epic boundaries
# - autonomous: Human reviews at epic boundaries only
mode: supervised

# Project metadata
project_name: "My Project"
created_at: ""  # Set automatically on first run

# Checkpoint behavior for each event type
# Options: pause | review | notify | skip
checkpoints:
  task_complete: pause       # After each task
  story_complete: pause      # After completing all tasks in a story
  epic_complete: pause       # After completing all stories in an epic
  error_encountered: pause   # When build/test fails
  ambiguity_found: pause     # When requirements unclear
  scope_change: pause        # When new work discovered

# Kanban board settings
kanban:
  auto_sync: true            # Sync kanban.html after every tasks.db change
  serve_locally: true        # Start HTTP server for browser access
  port: 3333                 # Port for kanban server
  auto_refresh_seconds: 5    # Browser auto-refresh interval

# Git integration
git:
  enabled: true
  commit_per_task: true
  commit_message_prefix: "[claude]"
  branch_per_epic: false
  # If branch_per_epic: true, creates claude/epic-001-name branches

# Skill routing
skills:
  auto_route: true           # Use skill_hint from features.json
  default_skill: null        # Fallback if no hint (null = ask human)
  
# Session limits
session:
  max_tasks_per_session: 10  # Stop after N tasks regardless of mode
  max_hours_per_session: 4   # Advisory limit
  require_verification: true # Run smoke test before starting work

# Verification commands (customize per project)
verification:
  build: "npm run build"     # Or: cargo build, go build, etc.
  test: "npm test"           # Quick test suite
  start: "npm run dev"       # Start dev server

# Feature selection
feature_selection:
  respect_dependencies: true # Don't start blocked features
  priority_order: true       # P0 before P1 before P2
  prefer_in_progress: true   # Finish started work first
